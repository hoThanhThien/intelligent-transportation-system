(function(e){function t(t){for(var i,r,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("85ec"),o=n.n(i);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=(n("034f"),n("2877")),l={},s=Object(r["a"])(l,o,a,!1,null,null,null),c=s.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ele-upload-video",{staticStyle:{margin:"50px"},attrs:{fileSize:20,responseFn:e.handleResponse,action:"http://127.0.0.1:8000/upload/video",name:"video",value:e.video},on:{error:e.handleUploadError,httpRequest:e.handleUpload}})},p=[],f=(n("bc3a"),{name:"mainpage",data:function(){return{video:null}},methods:{handleUploadError:function(e){this.$notify.error({title:"上传提示",message:"上传文件失败"}),console.log("error",e)},handleResponse:function(e,t){this.video="http://127.0.0.1:8000/api/getuploadvideo"}}}),h=f,v=Object(r["a"])(h,d,p,!1,null,"6087e880",null),m=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},b=[],_={name:"result"},g=_,S=Object(r["a"])(g,y,b,!1,null,"5dc6ba12",null),w=S.exports;i["default"].use(u["a"]);var U=[{path:"/",name:"mainpage",component:m},{path:"/result",name:"result",component:w}],P=new u["a"]({mode:"history",routes:U}),x=P,O=n("5c96"),j=n.n(O),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ele-upload-video"},[e.value?e._e():n("el-upload",{attrs:{accept:e.accept,action:e.action,"before-upload":e.handleBeforeUploadVideo,data:e.data,disabled:e.videoUploadPercent>0&&e.videoUploadPercent<100,headers:e.headers,httpRequest:e.httpRequest,name:e.name,"on-error":e.handleUploadError,"on-progress":e.handleUploadProcess,"on-success":e.handleUploadSuccess,"show-file-list":!1,withCredentials:e.withCredentials,drag:""}},[e.videoUploadPercent>0?n("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{percentage:e.videoUploadPercent,type:"circle"}}):[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v(" 将视频拖到此处，或 "),n("em",[e._v("点击上传")])]),e.showTip?n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 请上传 "),n("span",{staticStyle:{color:"#F56C6C"}},[e._v(" "+e._s(this.fileType?this.fileType.join("/"):"视频")+" ")]),e._v("格式文件 "),e.fileSize?[e._v(" ，且文件大小不超过 "),n("span",{staticStyle:{color:"#F56C6C"}},[e._v(e._s(e.fileSize))]),e._v(" MB ")]:e._e()],2):e._e()]],2),e.value?n("vue-hover-mask",{scopedSlots:e._u([{key:"action",fn:function(){return[n("span",{staticClass:"ele-upload-video_mask__item",on:{click:e.handlePlayerVideo}},[n("i",{staticClass:"el-icon-zoom-in"})]),n("span",{staticClass:"ele-upload-video_mask__item",on:{click:e.handleDeleteVideo}},[n("i",{staticClass:"el-icon-delete"})])]},proxy:!0}],null,!1,469529225)},[n("video",{style:{width:e.width+"px",height:e.height?e.height+"px":"auto"},attrs:{autoplay:!1,src:e.value}},[e._v("您的浏览器不支持视频播放")])]):e._e(),n("el-dialog",{attrs:{visible:e.isShowVideo,"append-to-body":""},on:{"update:visible":function(t){e.isShowVideo=t}}},[e.isShowVideo?n("video",{staticStyle:{width:"100%"},attrs:{autoplay:!0,src:e.value,controls:"controls"}},[e._v("您的浏览器不支持视频播放")]):e._e()])],1)},$=[],T=(n("caad"),n("a9e3"),n("b680"),n("ac1f"),n("2532"),n("1276"),n("9f5b")),V={name:"EleUploadVideo",components:{VueHoverMask:T["a"]},props:{value:{type:String},action:{type:String,required:!0},responseFn:Function,fileSize:{type:Number},width:{type:Number,default:360},height:{type:Number},isShowTip:{type:Boolean,default:!0},fileType:{type:Array},headers:Object,withCredentials:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},httpRequest:Function,accept:String},data:function(){return{isShowVideo:!1,videoUploadPercent:0}},computed:{showTip:function(){return this.isShowTip&&(this.fileType||this.fileSize)}},methods:{handleBeforeUploadVideo:function(e){var t=!1;if(Array.isArray(this.fileType)){var n=e.type.split("/");t="video"===n[0]&&this.fileType.includes(n[1])}else t=e.type.includes("video");if(!t)return this.$message.error("".concat(e.name,"格式不正确, 请上传格式正确的视频")),!1;if(this.fileSize){var i=e.size/1024/1024<this.fileSize;if(!i)return this.$message.error("上传视频大小不能超过".concat(this.fileSize,"MB哦!")),!1}return!0},handleUploadProcess:function(e,t){this.videoUploadPercent=Number(t.percentage.toFixed(0))},handleUploadSuccess:function(e,t){this.videoUploadPercent=0,this.$message.success("上传成功!"),this.responseFn?this.$emit("input",this.responseFn(e,t)):this.$emit("input",e)},handleUploadError:function(e,t,n){this.$message.error("上传失败, 请重试!"),this.videoUploadPercent=0,this.$emit("error",e,t,n)},handleDeleteVideo:function(){this.$emit("delete"),this.$emit("input",null)},handlePlayerVideo:function(){this.isShowVideo=!0}}},k=V,z=(n("fd2b"),Object(r["a"])(k,C,$,!1,null,null,null)),E=z.exports;n("0fae");i["default"].config.productionTip=!1,i["default"].use(j.a),i["default"].component(E.name,E),new i["default"]({router:x,render:function(e){return e(c)}}).$mount("#app")},"85ec":function(e,t,n){},b2ee:function(e,t,n){},fd2b:function(e,t,n){"use strict";var i=n("b2ee"),o=n.n(i);o.a}});
//# sourceMappingURL=app.6c0ade06.js.map