(function(e){function t(t){for(var n,r,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,l=1;l<i.length;l++){var s=i[l];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},o={app:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("85ec"),o=i.n(n);o.a},"56d7":function(e,t,i){"use strict";i.r(t);i("b0c0"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},a=[],r=(i("034f"),i("2877")),l={},s=Object(r["a"])(l,o,a,!1,null,null,null),c=s.exports,u=i("8c4f"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ele-upload-video",{staticStyle:{margin:"50px"},attrs:{fileSize:20,responseFn:e.handleResponse,action:"http://127.0.0.1:8000/upload/video",name:"video",value:e.video},on:{error:e.handleUploadError}})},p=[],f=(i("bc3a"),{name:"mainpage",data:function(){return{video:null}},methods:{handleUploadError:function(e){this.$notify.error({title:"上传提示",message:"上传文件失败"}),console.log("error",e)},handleResponse:function(e,t){this.video="/UploadFiles/upload_video.mp4"}}}),h=f,v=Object(r["a"])(h,d,p,!1,null,"79994412",null),m=v.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},b=[],_={name:"result"},g=_,S=Object(r["a"])(g,y,b,!1,null,"5dc6ba12",null),w=S.exports;n["default"].use(u["a"]);var U=[{path:"/",name:"mainpage",component:m},{path:"/result",name:"result",component:w}],P=new u["a"]({mode:"history",routes:U}),x=P,O=i("5c96"),j=i.n(O),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ele-upload-video"},[e.value?e._e():i("el-upload",{attrs:{accept:e.accept,action:e.action,"before-upload":e.handleBeforeUploadVideo,data:e.data,disabled:e.videoUploadPercent>0&&e.videoUploadPercent<100,headers:e.headers,httpRequest:e.httpRequest,name:e.name,"on-error":e.handleUploadError,"on-progress":e.handleUploadProcess,"on-success":e.handleUploadSuccess,"show-file-list":!1,withCredentials:e.withCredentials,drag:""}},[e.videoUploadPercent>0?i("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{percentage:e.videoUploadPercent,type:"circle"}}):[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v(" 将视频拖到此处，或 "),i("em",[e._v("点击上传")])]),e.showTip?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 请上传 "),i("span",{staticStyle:{color:"#F56C6C"}},[e._v(" "+e._s(this.fileType?this.fileType.join("/"):"视频")+" ")]),e._v("格式文件 "),e.fileSize?[e._v(" ，且文件大小不超过 "),i("span",{staticStyle:{color:"#F56C6C"}},[e._v(e._s(e.fileSize))]),e._v(" MB ")]:e._e()],2):e._e()]],2),e.value?i("vue-hover-mask",{scopedSlots:e._u([{key:"action",fn:function(){return[i("span",{staticClass:"ele-upload-video_mask__item",on:{click:e.handlePlayerVideo}},[i("i",{staticClass:"el-icon-zoom-in"})]),i("span",{staticClass:"ele-upload-video_mask__item",on:{click:e.handleDeleteVideo}},[i("i",{staticClass:"el-icon-delete"})])]},proxy:!0}],null,!1,469529225)},[i("video",{style:{width:e.width+"px",height:e.height?e.height+"px":"auto"},attrs:{autoplay:!1,src:e.value}},[e._v("您的浏览器不支持视频播放")])]):e._e(),i("el-dialog",{attrs:{visible:e.isShowVideo,"append-to-body":""},on:{"update:visible":function(t){e.isShowVideo=t}}},[e.isShowVideo?i("video",{staticStyle:{width:"100%"},attrs:{autoplay:!0,src:e.value,controls:"controls"}},[e._v("您的浏览器不支持视频播放")]):e._e()])],1)},$=[],T=(i("caad"),i("a9e3"),i("b680"),i("ac1f"),i("2532"),i("1276"),i("9f5b")),V={name:"EleUploadVideo",components:{VueHoverMask:T["a"]},props:{value:{type:String},action:{type:String,required:!0},responseFn:Function,fileSize:{type:Number},width:{type:Number,default:360},height:{type:Number},isShowTip:{type:Boolean,default:!0},fileType:{type:Array},headers:Object,withCredentials:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},httpRequest:Function,accept:String},data:function(){return{isShowVideo:!1,videoUploadPercent:0}},computed:{showTip:function(){return this.isShowTip&&(this.fileType||this.fileSize)}},methods:{handleBeforeUploadVideo:function(e){var t=!1;if(Array.isArray(this.fileType)){var i=e.type.split("/");t="video"===i[0]&&this.fileType.includes(i[1])}else t=e.type.includes("video");if(!t)return this.$message.error("".concat(e.name,"格式不正确, 请上传格式正确的视频")),!1;if(this.fileSize){var n=e.size/1024/1024<this.fileSize;if(!n)return this.$message.error("上传视频大小不能超过".concat(this.fileSize,"MB哦!")),!1}return!0},handleUploadProcess:function(e,t){this.videoUploadPercent=Number(t.percentage.toFixed(0))},handleUploadSuccess:function(e,t){this.videoUploadPercent=0,this.$message.success("上传成功!"),this.responseFn?this.$emit("input",this.responseFn(e,t)):this.$emit("input",e)},handleUploadError:function(e,t,i){this.$message.error("上传失败, 请重试!"),this.videoUploadPercent=0,this.$emit("error",e,t,i)},handleDeleteVideo:function(){this.$emit("delete"),this.$emit("input",null)},handlePlayerVideo:function(){this.isShowVideo=!0}}},k=V,z=(i("fd2b"),Object(r["a"])(k,C,$,!1,null,null,null)),F=z.exports;i("0fae");n["default"].config.productionTip=!1,n["default"].use(j.a),n["default"].component(F.name,F),new n["default"]({router:x,render:function(e){return e(c)}}).$mount("#app")},"85ec":function(e,t,i){},b2ee:function(e,t,i){},fd2b:function(e,t,i){"use strict";var n=i("b2ee"),o=i.n(n);o.a}});
//# sourceMappingURL=app.8e5589a5.js.map